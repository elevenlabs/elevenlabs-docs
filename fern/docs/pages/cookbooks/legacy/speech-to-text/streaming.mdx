---
title: Streaming speech to text
subtitle: Learn how to transcribe audio with ElevenLabs
---

<Note>This feature is currently only available to alpha users and is subject to change.</Note>

In this tutorial, you'll learn how to transcribe audio with the ElevenLabs SDK and stream the response back.

The difference between this and the [synchronous](/docs/cookbooks/legacy/speech-to-text/synchronous) example is that the streaming example returns the result as a stream of data. As such the latency between the transcription and the result is lower as it's streamed back in chunks rather than waiting for the entire response.

## Requirements

- An ElevenLabs account with an [API key](/docs/developer-guides/quickstart#authentication).
- Python or Node installed on your machine

## Setup

### Installing the SDK

Before you begin, make sure you have installed the ElevenLabs SDK.

<CodeGroup>
    ```bash Python
    pip install elevenlabs
    ```

    ```bash JavaScript
    npm install elevenlabs
    ```

</CodeGroup>

Additionally, install necessary packages to manage your environmental variables:

<CodeGroup>
    ```bash Python
    pip install python-dotenv
    ```

    ```bash JavaScript
    npm install dotenv
    ```

</CodeGroup>

Next, create a `.env` file in your project directory and fill it with your credentials like so:

```python .env
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
```

To convert the audio of a file to text, we'll use the `convert` method of the ElevenLabs SDK.

## Convert text to speech with streaming response

If you prefer to stream the text directly without saving it to a file, you can use our streaming feature.

<CodeGroup>

```python title="text_to_speech_stream.py" maxLines=0
from io import BytesIO
from dotenv import load_dotenv
import requests
from elevenlabs.client import ElevenLabs

load_dotenv()

client = ElevenLabs()

audio_url = (
    "https://storage.googleapis.com/eleven-public-cdn/audio/marketing/nicole.mp3"
)

response = requests.get(audio_url)
audio_data = BytesIO(response.content)

# Perform the text-to-speech conversion
response = client.speech_to_text.convert(
    file=audio_data,
    model_id="scribe_v1", # Model to use, for now only "scribe_v1" is supported
    maximum_speakers=1, # Number of speakers in the audio file
    tag_audio_events=True, # Tag audio events like laughter, applause, etc.
    speech_to_text_language_code="en", # Language of the audio file
    transcribe_verbatim=False, # Transcribe verbatim sounds like "um" and "ah"
)

# Create a BytesIO object to hold the audio data in memory
text_stream = BytesIO()

# Write each chunk of audio data to the stream
for chunk in response:
    if chunk:
        text_stream.write(chunk)

# Return the stream for further use
return text_stream
```

```javascript title="textToSpeechStream.js" maxLines=0
import * as dotenv from 'dotenv';
import { ElevenLabsClient } from 'elevenlabs';

dotenv.config();

const client = new ElevenLabsClient();

export const createAudioStreamFromText = async (text: string): Promise<Buffer> => {
  const audioStream = await client.generate({
    voice: 'Rachel',
    model_id: 'eleven_turbo_v2_5',
    text,
  });

  const chunks: Buffer[] = [];
  for await (const chunk of audioStream) {
    chunks.push(chunk);
  }

  const content = Buffer.concat(chunks);

  // Return the stream for further use
  return content;
};
```

</CodeGroup>

You can then run this function with:

<CodeGroup>

```bash Python
python text_to_speech_stream.py
```

```bash TypeScript
node textToSpeechStream.js
```

</CodeGroup>
