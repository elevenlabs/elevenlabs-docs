---
title: Streaming speech to text
subtitle: Learn how to transcribe audio with ElevenLabs
---

In this tutorial, you'll learn how to transcribe audio with the ElevenLabs SDK. We'll cover both receiving a file and streaming the response back.

If you want to jump straight to an example you can find them in the [Python](https://github.com/elevenlabs/elevenlabs-examples/tree/main/examples/text-to-speech/python) and [Node.js](https://github.com/elevenlabs/elevenlabs-examples/tree/main/examples/text-to-speech/node) example repositories.

## Requirements

- An ElevenLabs account with an [API key](/docs/developer-guides/quickstart#authentication).
- Python or Node installed on your machine

## Setup

### Installing the SDK

Before you begin, make sure you have installed the ElevenLabs SDK.

<CodeGroup>
    ```bash Python
    pip install elevenlabs
    ```

    ```bash JavaScript
    npm install elevenlabs
    ```

</CodeGroup>

Additionally, install necessary packages to manage your environmental variables:

<CodeGroup>
    ```bash Python
    pip install python-dotenv
    ```

    ```bash JavaScript
    npm install dotenv
    ```

</CodeGroup>

Next, create a `.env` file in your project directory and fill it with your credentials like so:

```python .env
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
```

To convert the audio of a file to text, we'll use the `convert` method of the ElevenLabs SDK.

## Convert speech to text

<CodeGroup>
    ```python title="speech_to_text.py" maxLines=0
    from dotenv import load_dotenv
    from io import BytesIO
    import requests
    from elevenlabs.client import ElevenLabs

    load_dotenv()

    client = ElevenLabs()

    audio_url = (
        "https://storage.googleapis.com/eleven-public-cdn/audio/marketing/nicole.mp3"
    )
    response = requests.get(audio_url)
    audio_data = BytesIO(response.content)

    transcription = client.speech_to_text.convert(
        file=audio_data,
        model_id="scribe_v1", # Model to use, for now only "scribe_v1" is supported
        maximum_speakers=1, # Number of speakers in the audio file
        tag_audio_events=True, # Tag audio events like laughter, applause, etc.
        speech_to_text_language_code="en", # Language of the audio file
        transcribe_verbatim=False, # Transcribe verbatim sounds like "um" and "ah"
    )

    for segment in transcription.segments:
        print(segment.text)
    ```

    ```javascript title="speechToText.js" maxLines=0
    import "dotenv/config";
    import { ElevenLabsClient } from "elevenlabs";

    const client = new ElevenLabsClient();

    const response = await fetch(
        "https://storage.googleapis.com/eleven-public-cdn/audio/marketing/nicole.mp3"
    );
    const audioBlob = new Blob([await response.arrayBuffer()], { type: "audio/mp3" });

    const transcription = await client.speechToText.convert({
        file: audioBlob,
        model_id: "scribe_v1", // Model to use, for now only "scribe_v1" is supported
        maximum_speakers: 1, // Number of speakers in the audio file
        tag_audio_events: true, // Tag audio events like laughter, applause, etc.
        speech_to_text_language_code: "en", // Language of the audio file
        transcribe_verbatim: false, // Transcribe verbatim sounds like "um" and "ah"
    });

    for (const segment of transcription.segments) {
        console.log(segment.text);
    }

    ```

</CodeGroup>

Run the script with:

<CodeGroup>
    ```bash Python
    python speech_to_text.py
    ```

    ```bash Node
    node speechToText.js
    ```

</CodeGroup>

## Convert text to speech (streaming)

If you prefer to stream the text directly without saving it to a file, you can use our streaming feature.

<CodeGroup>

```python title="text_to_speech_stream.py" maxLines=0
from io import BytesIO
from dotenv import load_dotenv
import requests
from elevenlabs.client import ElevenLabs

load_dotenv()

client = ElevenLabs()

audio_url = (
    "https://storage.googleapis.com/eleven-public-cdn/audio/marketing/nicole.mp3"
)

response = requests.get(audio_url)
audio_data = BytesIO(response.content)

# Perform the text-to-speech conversion
response = client.speech_to_text.convert(
    file=audio_data,
    model_id="scribe_v1", # Model to use, for now only "scribe_v1" is supported
    maximum_speakers=1, # Number of speakers in the audio file
    tag_audio_events=True, # Tag audio events like laughter, applause, etc.
    speech_to_text_language_code="en", # Language of the audio file
    transcribe_verbatim=False, # Transcribe verbatim sounds like "um" and "ah"
)

# Create a BytesIO object to hold the audio data in memory
text_stream = BytesIO()

# Write each chunk of audio data to the stream
for chunk in response:
    if chunk:
        text_stream.write(chunk)

# Return the stream for further use
return text_stream
```

```javascript title="textToSpeechStream.js" maxLines=0
import * as dotenv from 'dotenv';
import { ElevenLabsClient } from 'elevenlabs';

dotenv.config();

const client = new ElevenLabsClient();

export const createAudioStreamFromText = async (text: string): Promise<Buffer> => {
  const audioStream = await client.generate({
    voice: 'Rachel',
    model_id: 'eleven_turbo_v2_5',
    text,
  });

  const chunks: Buffer[] = [];
  for await (const chunk of audioStream) {
    chunks.push(chunk);
  }

  const content = Buffer.concat(chunks);

  // Return the stream for further use
  return content;
};
```

</CodeGroup>

You can then run this function with:

<CodeGroup>

```bash Python
python text_to_speech_stream.py
```

```bash TypeScript
node textToSpeechStream.js
```

</CodeGroup>
